<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/SCanvasGL.js - GuiBlocks</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <script src="scripts/commonNav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/SCanvasGL.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>﻿/**
 * SCanvasGL.js
 *
 * @module GuiBlocks
 * @author natade (https://github.com/natade-jp)
 * @license MIT
 */

import SBase from "./SBase.js";

/**
 * WebGL対応のキャンバス描画用コンポーネントクラス。
 * WebGLコンテキストを使って、ハードウェアアクセラレーションによる描画が可能です。
 */
export default class SCanvasGL extends SBase {
	/**
	 * SCanvasGLのインスタンスを生成します。
	 */
	constructor() {
		super("canvas");
		this.addClass(SBase.CLASS_NAME.CANVAS);

		/**
		 * キャンバス要素
		 * @type {HTMLCanvasElement}
		 */
		// @ts-ignore
		this.canvas = this.element;

		/**
		 * WebGLコンテキスト
		 * @type {WebGLRenderingContext}
		 */
		this.gl = null;

		this.setPixelSize(300, 150); // canvas のデフォルト値を設定する
	}

	/**
	 * キャンバスの大きさ
	 * @typedef {Object} SPixelSizeData
	 * @property {number} width 横幅
	 * @property {number} height 縦幅
	 */

	/**
	 * キャンバスのサイズを取得します。
	 * @returns {SPixelSizeData}
	 */
	getPixelSize() {
		return {
			width: this.canvas.width,
			height: this.canvas.height
		};
	}

	/**
	 * キャンバス要素を取得します。
	 * @returns {HTMLCanvasElement} キャンバス要素
	 */
	getCanvas() {
		return this.canvas;
	}

	/**
	 * キャンバスのピクセルサイズを設定します。
	 * @param {number} width - 幅（ピクセル）
	 * @param {number} height - 高さ（ピクセル）
	 * @throws {string} 不正な引数が渡された場合
	 */
	setPixelSize(width, height) {
		if (
			arguments.length !== 2 ||
			typeof width !== "number" ||
			typeof height !== "number" ||
			width &lt; 0 ||
			height &lt; 0
		) {
			throw "IllegalArgumentException";
		}
		width = ~~Math.floor(width);
		height = ~~Math.floor(height);
		this.canvas.width = width;
		this.canvas.height = height;
	}

	/**
	 * WebGL描画コンテキストを取得します。
	 * @returns {WebGLRenderingContext} WebGLコンテキスト
	 */
	getContext() {
		// 一度でも GL で getContext すると使用できなくなります。
		if (this.context === undefined) {
			// @ts-ignore
			this.gl = this.canvas.getContext("webgl") || this.canvas.getContext("experimental-webgl");
			this.context = this.gl;
		}
		return this.context;
	}

	/**
	 * キャンバスをクリアします（GLコンテキストのカラー情報を削除）
	 * @returns {void}
	 */
	clear() {
		this.getContext().clear(this.gl.COLOR_BUFFER_BIT);
	}

	/**
	 * ImageDataの取得には対応していません（未実装）
	 * @returns {void}
	 */
	getImageData() {
		return;
	}

	/**
	 * ImageDataの描画には対応していません（未実装）
	 * @param {ImageData} imagedata
	 * @returns {void}
	 */
	putImageData(imagedata) {
		return;
	}
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
